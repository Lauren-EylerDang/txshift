<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Targeted Learning of the Causal Effects of Stochastic Interventions • txshift</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Targeted Learning of the Causal Effects of Stochastic Interventions">
<meta property="og:description" content="Efficient estimation of the population-level causal effects of
    stochastic interventions on a continuous-valued treatment node. Both
    one-step and targeted maximum likelihood (TML) estimators are implemented
    for a causal parameter defined as the counterfactual mean of the outcome of
    interest under a stochastic intervention that may depend on the natural
    value of the treatment (i.e., a modified treatment policy). To accommodate
    settings in which two-phase sampling is employed, procedures for making use
    of inverse probability of censoring (IPC) weights to build inefficient and
    efficient TML and one-step estimator variants of the population-level
    parameter are provided.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">txshift</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/intro_txshift.html">Targeted Learning with Stochastic Treatment Regimes</a>
    </li>
    <li>
      <a href="articles/ipcw_txshift.html">IPCW-TMLEs with Stochastic Treatment Regimes</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/nhejazi/txshift">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="rtxshift" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#rtxshift" class="anchor"></a>R/<code>txshift</code>
</h1></div>

<blockquote>
<p>Targeted Learning of the Causal Effects of Stochastic Interventions</p>
</blockquote>
<p><strong>Authors:</strong> <a href="https://nimahejazi.org">Nima Hejazi</a> and <a href="https://www.sph.emory.edu/faculty/profile/#!dbenkes">David Benkeser</a></p>
<hr>
<div id="whats-txshift" class="section level2">
<h2 class="hasAnchor">
<a href="#whats-txshift" class="anchor"></a>What’s <code>txshift</code>?</h2>
<p>The <code>txshift</code> R package is designed to provide facilities for the construction of efficient estimators of a causal parameter defined as the counterfactual mean of an outcome under stochastic mechanisms for treatment assignment (Díaz and van der Laan 2012). <code>txshift</code> implements and builds upon a simplified algorithm for the targeted maximum likelihood (TML) estimator of such a causal parameter, originally proposed by Díaz and van der Laan (2018), and makes use of analogous machinery to compute an efficient one-step estimator (Pfanzagl and Wefelmeyer 1985). <code>txshift</code> integrates with the <a href="https://github.com/tlverse/sl3"><code>sl3</code> package</a> (Coyle et al. 2019) to allow for ensemble machine learning to be leveraged in the estimation procedure.</p>
<p>For many practical applications (e.g., vaccine efficacy trials), observed data is often subject to a two-phase sampling mechanism (i.e., through the use of a two-stage design). In such cases, efficient estimators (of both varieties) must be augmented to construct unbiased estimates of the population-level causal parameter. Rose and van der Laan (2011) first introduced an augmentation procedure that relies on introducing inverse probability of censoring (IPC) weights directly to an appropriate loss function or to the efficient influence function estimating equation. <code>txshift</code> extends this approach to compute IPC-weighted one-step and TML estimators of the counterfactual mean under a stochastic treatment regime.</p>
<hr>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Install the most recent <em>stable release</em> from GitHub via <a href="https://www.rstudio.com/products/rpackages/devtools/"><code>devtools</code></a>:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">devtools<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/devtools/man/remote-reexports.html">install_github</a></span>(<span class="st">"nhejazi/txshift"</span>, <span class="dt">build_vignettes =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<hr>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>To illustrate how <code>txshift</code> may be used to ascertain the effect of a treatment, consider the following example:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(txshift)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(haldensify)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="kw"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="dv">429153</span>)</a>
<a class="sourceLine" id="cb2-4" data-line-number="4"></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co"># simulate simple data</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6">n_obs &lt;-<span class="st"> </span><span class="dv">1000</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7">W &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/lapply.html">replicate</a></span>(<span class="dv">2</span>, <span class="kw"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span>(n_obs, <span class="dv">1</span>, <span class="fl">0.5</span>))</a>
<a class="sourceLine" id="cb2-8" data-line-number="8">A &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(n_obs, <span class="dt">mean =</span> <span class="dv">2</span> <span class="op">*</span><span class="st"> </span>W, <span class="dt">sd =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb2-9" data-line-number="9">Y &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span>(n_obs, <span class="dv">1</span>, <span class="kw"><a href="https://rdrr.io/r/stats/Logistic.html">plogis</a></span>(A <span class="op">+</span><span class="st"> </span>W <span class="op">+</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(n_obs, <span class="dt">mean =</span> <span class="dv">0</span>, <span class="dt">sd =</span> <span class="dv">1</span>)))</a>
<a class="sourceLine" id="cb2-10" data-line-number="10"></a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="co"># now, let's introduce a a two-stage sampling process</span></a>
<a class="sourceLine" id="cb2-12" data-line-number="12">C &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span>(n_obs, <span class="dv">1</span>, <span class="kw"><a href="https://rdrr.io/r/stats/Logistic.html">plogis</a></span>(W <span class="op">+</span><span class="st"> </span>Y))</a>
<a class="sourceLine" id="cb2-13" data-line-number="13"></a>
<a class="sourceLine" id="cb2-14" data-line-number="14"><span class="co"># fit the full-data TMLE (ignoring two-phase sampling)</span></a>
<a class="sourceLine" id="cb2-15" data-line-number="15">tmle &lt;-<span class="st"> </span><span class="kw"><a href="reference/txshift.html">txshift</a></span>(<span class="dt">W =</span> W, <span class="dt">A =</span> A, <span class="dt">Y =</span> Y, <span class="dt">delta =</span> <span class="fl">0.5</span>,</a>
<a class="sourceLine" id="cb2-16" data-line-number="16">                <span class="dt">estimator =</span> <span class="st">"tmle"</span>,</a>
<a class="sourceLine" id="cb2-17" data-line-number="17">                <span class="dt">g_fit_args =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">fit_type =</span> <span class="st">"hal"</span>,</a>
<a class="sourceLine" id="cb2-18" data-line-number="18">                                  <span class="dt">n_bins =</span> <span class="dv">5</span>,</a>
<a class="sourceLine" id="cb2-19" data-line-number="19">                                  <span class="dt">grid_type =</span> <span class="st">"equal_mass"</span>,</a>
<a class="sourceLine" id="cb2-20" data-line-number="20">                                  <span class="dt">lambda_seq =</span> <span class="kw"><a href="https://rdrr.io/r/base/Log.html">exp</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(<span class="op">-</span><span class="dv">1</span>, <span class="dv">-9</span>, <span class="dt">length =</span> <span class="dv">300</span>))),</a>
<a class="sourceLine" id="cb2-21" data-line-number="21">                <span class="dt">Q_fit_args =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">fit_type =</span> <span class="st">"glm"</span>,</a>
<a class="sourceLine" id="cb2-22" data-line-number="22">                                  <span class="dt">glm_formula =</span> <span class="st">"Y ~ ."</span>)</a>
<a class="sourceLine" id="cb2-23" data-line-number="23">               )</a>
<a class="sourceLine" id="cb2-24" data-line-number="24"><span class="kw"><a href="https://rdrr.io/r/base/summary.html">summary</a></span>(tmle)</a>
<a class="sourceLine" id="cb2-25" data-line-number="25"><span class="co">#&gt;     lwr_ci  param_est     upr_ci  param_var   eif_mean  estimator </span></a>
<a class="sourceLine" id="cb2-26" data-line-number="26"><span class="co">#&gt;     0.7474     0.7782     0.8062      2e-04 6.7628e-11       tmle </span></a>
<a class="sourceLine" id="cb2-27" data-line-number="27"><span class="co">#&gt;     n_iter </span></a>
<a class="sourceLine" id="cb2-28" data-line-number="28"><span class="co">#&gt;          0</span></a>
<a class="sourceLine" id="cb2-29" data-line-number="29"></a>
<a class="sourceLine" id="cb2-30" data-line-number="30"><span class="co"># fit a full-data one-step estimator for comparison (again, no sampling)</span></a>
<a class="sourceLine" id="cb2-31" data-line-number="31">os &lt;-<span class="st"> </span><span class="kw"><a href="reference/txshift.html">txshift</a></span>(<span class="dt">W =</span> W, <span class="dt">A =</span> A, <span class="dt">Y =</span> Y, <span class="dt">delta =</span> <span class="fl">0.5</span>,</a>
<a class="sourceLine" id="cb2-32" data-line-number="32">              <span class="dt">estimator =</span> <span class="st">"onestep"</span>,</a>
<a class="sourceLine" id="cb2-33" data-line-number="33">              <span class="dt">g_fit_args =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">fit_type =</span> <span class="st">"hal"</span>,</a>
<a class="sourceLine" id="cb2-34" data-line-number="34">                                <span class="dt">n_bins =</span> <span class="dv">5</span>,</a>
<a class="sourceLine" id="cb2-35" data-line-number="35">                                <span class="dt">grid_type =</span> <span class="st">"equal_mass"</span>,</a>
<a class="sourceLine" id="cb2-36" data-line-number="36">                                <span class="dt">lambda_seq =</span> <span class="kw"><a href="https://rdrr.io/r/base/Log.html">exp</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(<span class="op">-</span><span class="dv">1</span>, <span class="dv">-9</span>, <span class="dt">length =</span> <span class="dv">300</span>))),</a>
<a class="sourceLine" id="cb2-37" data-line-number="37">              <span class="dt">Q_fit_args =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">fit_type =</span> <span class="st">"glm"</span>,</a>
<a class="sourceLine" id="cb2-38" data-line-number="38">                                <span class="dt">glm_formula =</span> <span class="st">"Y ~ ."</span>)</a>
<a class="sourceLine" id="cb2-39" data-line-number="39">             )</a>
<a class="sourceLine" id="cb2-40" data-line-number="40"><span class="kw"><a href="https://rdrr.io/r/base/summary.html">summary</a></span>(os)</a>
<a class="sourceLine" id="cb2-41" data-line-number="41"><span class="co">#&gt;      lwr_ci   param_est      upr_ci   param_var    eif_mean   estimator </span></a>
<a class="sourceLine" id="cb2-42" data-line-number="42"><span class="co">#&gt;      0.7471      0.7779      0.8059       2e-04 -1.6925e-03     onestep </span></a>
<a class="sourceLine" id="cb2-43" data-line-number="43"><span class="co">#&gt;      n_iter </span></a>
<a class="sourceLine" id="cb2-44" data-line-number="44"><span class="co">#&gt;           0</span></a>
<a class="sourceLine" id="cb2-45" data-line-number="45"></a>
<a class="sourceLine" id="cb2-46" data-line-number="46"><span class="co"># fit an IPCW-TMLE to account for the two-phase sampling process</span></a>
<a class="sourceLine" id="cb2-47" data-line-number="47">ipcw_tmle &lt;-<span class="st"> </span><span class="kw"><a href="reference/txshift.html">txshift</a></span>(<span class="dt">W =</span> W, <span class="dt">A =</span> A, <span class="dt">Y =</span> Y, <span class="dt">delta =</span> <span class="fl">0.5</span>,</a>
<a class="sourceLine" id="cb2-48" data-line-number="48">                     <span class="dt">C =</span> C, <span class="dt">V =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"W"</span>, <span class="st">"Y"</span>),</a>
<a class="sourceLine" id="cb2-49" data-line-number="49">                     <span class="dt">estimator =</span> <span class="st">"tmle"</span>,</a>
<a class="sourceLine" id="cb2-50" data-line-number="50">                     <span class="dt">max_iter =</span> <span class="dv">5</span>,</a>
<a class="sourceLine" id="cb2-51" data-line-number="51">                     <span class="dt">ipcw_fit_args =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">fit_type =</span> <span class="st">"glm"</span>),</a>
<a class="sourceLine" id="cb2-52" data-line-number="52">                     <span class="dt">g_fit_args =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">fit_type =</span> <span class="st">"hal"</span>,</a>
<a class="sourceLine" id="cb2-53" data-line-number="53">                                       <span class="dt">n_bins =</span> <span class="dv">5</span>,</a>
<a class="sourceLine" id="cb2-54" data-line-number="54">                                       <span class="dt">grid_type =</span> <span class="st">"equal_mass"</span>,</a>
<a class="sourceLine" id="cb2-55" data-line-number="55">                                       <span class="dt">lambda_seq =</span></a>
<a class="sourceLine" id="cb2-56" data-line-number="56">                                         <span class="kw"><a href="https://rdrr.io/r/base/Log.html">exp</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(<span class="op">-</span><span class="dv">1</span>, <span class="dv">-9</span>, <span class="dt">length =</span> <span class="dv">300</span>))),</a>
<a class="sourceLine" id="cb2-57" data-line-number="57">                     <span class="dt">Q_fit_args =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">fit_type =</span> <span class="st">"glm"</span>,</a>
<a class="sourceLine" id="cb2-58" data-line-number="58">                                       <span class="dt">glm_formula =</span> <span class="st">"Y ~ ."</span>),</a>
<a class="sourceLine" id="cb2-59" data-line-number="59">                     <span class="dt">eif_reg_type =</span> <span class="st">"glm"</span></a>
<a class="sourceLine" id="cb2-60" data-line-number="60">                    )</a>
<a class="sourceLine" id="cb2-61" data-line-number="61"><span class="kw"><a href="https://rdrr.io/r/base/summary.html">summary</a></span>(ipcw_tmle)</a>
<a class="sourceLine" id="cb2-62" data-line-number="62"><span class="co">#&gt;      lwr_ci   param_est      upr_ci   param_var    eif_mean   estimator </span></a>
<a class="sourceLine" id="cb2-63" data-line-number="63"><span class="co">#&gt;      0.7435      0.7765      0.8063       3e-04 -4.0324e-05        tmle </span></a>
<a class="sourceLine" id="cb2-64" data-line-number="64"><span class="co">#&gt;      n_iter </span></a>
<a class="sourceLine" id="cb2-65" data-line-number="65"><span class="co">#&gt;           1</span></a>
<a class="sourceLine" id="cb2-66" data-line-number="66"></a>
<a class="sourceLine" id="cb2-67" data-line-number="67"><span class="co"># compare with an IPCW-agumented one-step estimator under two-phase sampling</span></a>
<a class="sourceLine" id="cb2-68" data-line-number="68">ipcw_os &lt;-<span class="st"> </span><span class="kw"><a href="reference/txshift.html">txshift</a></span>(<span class="dt">W =</span> W, <span class="dt">A =</span> A, <span class="dt">Y =</span> Y, <span class="dt">delta =</span> <span class="fl">0.5</span>,</a>
<a class="sourceLine" id="cb2-69" data-line-number="69">                   <span class="dt">C =</span> C, <span class="dt">V =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"W"</span>, <span class="st">"Y"</span>),</a>
<a class="sourceLine" id="cb2-70" data-line-number="70">                   <span class="dt">estimator =</span> <span class="st">"onestep"</span>,</a>
<a class="sourceLine" id="cb2-71" data-line-number="71">                   <span class="dt">ipcw_fit_args =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">fit_type =</span> <span class="st">"glm"</span>),</a>
<a class="sourceLine" id="cb2-72" data-line-number="72">                   <span class="dt">g_fit_args =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">fit_type =</span> <span class="st">"hal"</span>,</a>
<a class="sourceLine" id="cb2-73" data-line-number="73">                                     <span class="dt">n_bins =</span> <span class="dv">5</span>,</a>
<a class="sourceLine" id="cb2-74" data-line-number="74">                                     <span class="dt">grid_type =</span> <span class="st">"equal_mass"</span>,</a>
<a class="sourceLine" id="cb2-75" data-line-number="75">                                     <span class="dt">lambda_seq =</span></a>
<a class="sourceLine" id="cb2-76" data-line-number="76">                                       <span class="kw"><a href="https://rdrr.io/r/base/Log.html">exp</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(<span class="op">-</span><span class="dv">1</span>, <span class="dv">-9</span>, <span class="dt">length =</span> <span class="dv">300</span>))),</a>
<a class="sourceLine" id="cb2-77" data-line-number="77">                   <span class="dt">Q_fit_args =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">fit_type =</span> <span class="st">"glm"</span>,</a>
<a class="sourceLine" id="cb2-78" data-line-number="78">                                     <span class="dt">glm_formula =</span> <span class="st">"Y ~ ."</span>),</a>
<a class="sourceLine" id="cb2-79" data-line-number="79">                   <span class="dt">eif_reg_type =</span> <span class="st">"glm"</span></a>
<a class="sourceLine" id="cb2-80" data-line-number="80">                  )</a>
<a class="sourceLine" id="cb2-81" data-line-number="81"><span class="kw"><a href="https://rdrr.io/r/base/summary.html">summary</a></span>(ipcw_os)</a>
<a class="sourceLine" id="cb2-82" data-line-number="82"><span class="co">#&gt;      lwr_ci   param_est      upr_ci   param_var    eif_mean   estimator </span></a>
<a class="sourceLine" id="cb2-83" data-line-number="83"><span class="co">#&gt;      0.7427      0.7758      0.8058       3e-04 -2.0727e-03     onestep </span></a>
<a class="sourceLine" id="cb2-84" data-line-number="84"><span class="co">#&gt;      n_iter </span></a>
<a class="sourceLine" id="cb2-85" data-line-number="85"><span class="co">#&gt;           0</span></a></code></pre></div>
<hr>
</div>
<div id="issues" class="section level2">
<h2 class="hasAnchor">
<a href="#issues" class="anchor"></a>Issues</h2>
<p>If you encounter any bugs or have any specific feature requests, please <a href="https://github.com/nhejazi/txshift/issues">file an issue</a>.</p>
<hr>
</div>
<div id="contributions" class="section level2">
<h2 class="hasAnchor">
<a href="#contributions" class="anchor"></a>Contributions</h2>
<p>Contributions are very welcome. Interested contributors should consult our <a href="https://github.com/nhejazi/txshift/blob/master/CONTRIBUTING.md">contribution guidelines</a> prior to submitting a pull request.</p>
<hr>
</div>
<div id="citation" class="section level2">
<h2 class="hasAnchor">
<a href="#citation" class="anchor"></a>Citation</h2>
<p>After using the <code>txshift</code> R package, please cite the following:</p>
<pre><code>    @article{hejazi2019generally,
      author = {Hejazi, Nima S and {van der Laan}, Mark J and Benkeser,
        David C},
      title = {Generally efficient nonparametric inference under two-phase
        sampling, with applications to vaccine efficacy trials},
      year  = {2019+},
      url = {},
      doi = {},
      journal={},
      volume={},
      number={},
      pages={},
      publisher={}
    }

    @manual{hejazi2019txshift,
      author = {Hejazi, Nima S and Benkeser, David C},
      title = {{txshift}: {Targeted Learning} of the Causal Effects of
        Stochastic Interventions},
      year  = {2019},
      url = {https://github.com/nhejazi/txshift},
      note = {R package version 0.2.9}
    }</code></pre>
<hr>
</div>
<div id="related" class="section level2">
<h2 class="hasAnchor">
<a href="#related" class="anchor"></a>Related</h2>
<ul>
<li><p><a href="https://github.com/tlverse/tmle3shift">R/<code>tmle3shift</code></a> - An R package providing an independent implementation of the same core routines for the TML estimation procedure and statistical methodology as is made available here, through reliance on a unified interface for Targeted Learning provided by the <a href="https://github.com/tlverse/tmle3"><code>tmle3</code></a> engine of the <a href="https://github.com/tlverse"><code>tlverse</code> ecosystem</a>.</p></li>
<li><p><a href="https://github.com/nhejazi/medshift">R/<code>medshift</code></a> - An R package providing facilities to estimate the causal effect of stochastic treatment regimes in the mediation setting, including classical (IPW) and augmented double robust (one-step) estimators. This is an implementation of the methodology explored in Díaz and Hejazi (2019).</p></li>
<li><p><a href="https://github.com/nhejazi/haldensify">R/<code>haldensify</code></a> - A minimal package for estimating the conditional density treatment mechanism component of this parameter based on using the <a href="https://github.com/tlverse/hal9001">highly adaptive lasso</a> in combination with a pooled hazard regression. This package implements the methodology proposed in Díaz and van der Laan (2011).</p></li>
</ul>
<hr>
</div>
<div id="funding" class="section level2">
<h2 class="hasAnchor">
<a href="#funding" class="anchor"></a>Funding</h2>
<p>The development of this software was supported in part through a grant from the National Institutes of Health: <a href="https://projectreporter.nih.gov/project_info_description.cfm?aid=9248418&amp;icde=37849831&amp;ddparam=&amp;ddvalue=&amp;ddsub=&amp;cr=1&amp;csb=default&amp;cs=ASC&amp;pball=">T32 LM012417-02</a>.</p>
<hr>
</div>
<div id="license" class="section level2">
<h2 class="hasAnchor">
<a href="#license" class="anchor"></a>License</h2>
<p>© 2017-2019 <a href="https://nimahejazi.org">Nima S. Hejazi</a></p>
<p>The contents of this repository are distributed under the MIT license. See below for details:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">MIT License</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="kw">Copyright</span> (c) <span class="dv">2017-2019</span> Nima S. Hejazi</a>
<a class="sourceLine" id="cb4-4" data-line-number="4"></a>
<a class="sourceLine" id="cb4-5" data-line-number="5">Permission is hereby granted, free of charge, to any person obtaining a copy</a>
<a class="sourceLine" id="cb4-6" data-line-number="6">of this software and associated documentation <span class="kw"><a href="https://rdrr.io/r/base/files.html">files</a></span> (the <span class="st">"Software"</span>), to deal</a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="cf">in</span> the Software without restriction, including without limitation the rights</a>
<a class="sourceLine" id="cb4-8" data-line-number="8">to use, copy, modify, merge, publish, distribute, sublicense, and<span class="op">/</span>or sell</a>
<a class="sourceLine" id="cb4-9" data-line-number="9">copies of the Software, and to permit persons to whom the Software is</a>
<a class="sourceLine" id="cb4-10" data-line-number="10">furnished to do so, subject to the following conditions<span class="op">:</span></a>
<a class="sourceLine" id="cb4-11" data-line-number="11"></a>
<a class="sourceLine" id="cb4-12" data-line-number="12">The above copyright notice and this permission notice shall be included <span class="cf">in</span> all</a>
<a class="sourceLine" id="cb4-13" data-line-number="13">copies or substantial portions of the Software.</a>
<a class="sourceLine" id="cb4-14" data-line-number="14"></a>
<a class="sourceLine" id="cb4-15" data-line-number="15">THE SOFTWARE IS PROVIDED <span class="st">"AS IS"</span>, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</a>
<a class="sourceLine" id="cb4-16" data-line-number="16">IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</a>
<a class="sourceLine" id="cb4-17" data-line-number="17">FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</a>
<a class="sourceLine" id="cb4-18" data-line-number="18">AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</a>
<a class="sourceLine" id="cb4-19" data-line-number="19">LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</a>
<a class="sourceLine" id="cb4-20" data-line-number="20">OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE</a>
<a class="sourceLine" id="cb4-21" data-line-number="21">SOFTWARE.</a></code></pre></div>
<hr>
</div>
<div id="references" class="section level2">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<div id="refs" class="references">

<div id="ref-coyle2019sl3">

Coyle, Jeremy R, Nima S Hejazi, Ivana Malenica, and Oleg Sofrygin. 2019.
*sl3: Modern Pipelines for Machine Learning and Super Learning*.
<https:>.
<https:>.

</https:></https:>
</div>

<div id="ref-diaz2019causal">

Díaz, Iván, and Nima S Hejazi. 2019. “Causal Mediation Analysis for
Stochastic Interventions.” *Submitted*.
<https:>.

</https:>
</div>

<div id="ref-diaz2011super">

Díaz, Iván, and Mark J van der Laan. 2011. “Super Learner Based
Conditional Density Estimation with Application to Marginal Structural
Models.” *The International Journal of Biostatistics* 7 (1). De Gruyter:
1–20.

</div>

<div id="ref-diaz2012population">

———. 2012. “Population Intervention Causal Effects Based on Stochastic
Interventions.” *Biometrics* 68 (2). Wiley Online Library: 541–49.

</div>

<div id="ref-diaz2018stochastic">

———. 2018. “Stochastic Treatment Regimes.” In *Targeted Learning in Data
Science: Causal Inference for Complex Longitudinal Studies*, 167–80.
Springer Science &amp; Business Media.

</div>

<div id="ref-pfanzagl1985contributions">

Pfanzagl, J, and W Wefelmeyer. 1985. “Contributions to a General
Asymptotic Statistical Theory.” *Statistics &amp; Risk Modeling* 3 (3-4):
379–88.

</div>

<div id="ref-rose2011targeted2sd">

Rose, Sherri, and Mark J van der Laan. 2011. “A Targeted Maximum
Likelihood Estimator for Two-Stage Designs.” *The International Journal
of Biostatistics* 7 (1): 1–21.

</div>

</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/nhejazi/txshift">https://​github.com/​nhejazi/​txshift</a>
</li>
<li>Report a bug at <br><a href="https://github.com/nhejazi/txshift/issues">https://​github.com/​nhejazi/​txshift/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>
<div class="citation">
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing txshift</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Nima Hejazi <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0000-0002-7127-2789" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID"></a> </li>
<li>David Benkeser <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-1019-8343" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID"></a> </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/nhejazi/txshift"><img src="https://travis-ci.org/nhejazi/txshift.svg?branch=master" alt="Travis-CI Build Status"></a></li>
<li><a href="https://ci.appveyor.com/project/nhejazi/txshift"><img src="https://ci.appveyor.com/api/projects/status/github/nhejazi/txshift?branch=master&amp;svg=true" alt="AppVeyor Build Status"></a></li>
<li><a href="https://codecov.io/github/nhejazi/txshift?branch=master"><img src="https://img.shields.io/codecov/c/github/nhejazi/txshift/master.svg" alt="Coverage Status"></a></li>
<li><a href="http://www.r-pkg.org/pkg/txshift"><img src="http://www.r-pkg.org/badges/version/txshift" alt="CRAN"></a></li>
<li><a href="https://CRAN.R-project.org/package=txshift"><img src="https://cranlogs.r-pkg.org/badges/txshift" alt="CRAN downloads"></a></li>
<li><a href="http://www.repostatus.org/#active"><img src="http://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active – The project has reached a stable, usable state and is being actively developed."></a></li>
<li><a href="http://opensource.org/licenses/MIT"><img src="http://img.shields.io/badge/license-MIT-brightgreen.svg" alt="MIT license"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Nima Hejazi, David Benkeser.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
